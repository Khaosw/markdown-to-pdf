<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MarkPrint AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- HTML to PDF Converter -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #e2e8f0; /* Darker background to make white pages pop */
        color: #1e293b; /* Slate 800 */
      }
      
      /* -------------------------------------------------------------------------- */
      /* Visual Page Simulation (A4 Sheet)                                          */
      /* -------------------------------------------------------------------------- */
      
      .sheet {
        background-color: white;
        margin: 0 auto 2rem auto; /* Centered with bottom gap */
        box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        /* A4 Dimensions */
        width: 210mm;
        min-height: 297mm; /* Ensure it looks like A4 even if empty */
        height: 297mm;     /* Fixed height for preview pagination accuracy */
        padding: 15mm;
        box-sizing: border-box;
        position: relative;
        overflow: hidden; /* Hide overflow content in preview */
        break-inside: avoid; /* Prevent splitting a single sheet in PDF */
      }

      /* Ensure subsequent sheets start on a new page */
      .sheet:not(:first-of-type) {
        page-break-before: always;
        break-before: page;
      }

      /* -------------------------------------------------------------------------- */
      /* PDF Export & Page Break Logic                                              */
      /* -------------------------------------------------------------------------- */

      /* The manual page break element */
      .page-break {
        display: block;
        height: 0;
        margin: 0;
        border: none;
      }

      /* VISUALIZATION ON SCREEN ONLY (Inside a sheet) */
      .sheet .page-break {
        border-top: 2px dashed #cbd5e1;
        margin: 1rem 0;
        position: relative;
        width: 100%;
        display: block;
      }
      
      .sheet .page-break::after {
        content: 'PAGE BREAK';
        position: absolute;
        top: -0.75rem;
        left: 50%;
        transform: translateX(-50%);
        background-color: #fff;
        color: #94a3b8;
        padding: 0 0.5rem;
        font-size: 0.6rem;
        font-weight: 600;
        border-radius: 4px;
      }

      /* 
       * EXPORT MODE OVERRIDES 
       */
      #pdf-export-container.exporting-pdf {
        /* When exporting, we want the container to be transparent/white */
        background: white !important;
        padding: 0 !important;
        width: 210mm !important;
      }

      #pdf-export-container.exporting-pdf .sheet {
        margin: 0 !important;
        box-shadow: none !important;
        /* 
           CRITICAL FIX: 
           We set height to 296mm (1mm less than A4 297mm).
           1. Fixed height ensures the absolute positioned footer stays at the bottom.
           2. Slightly reduced height prevents browser rounding errors (e.g. 297.01mm)
              from triggering an accidental page overflow that causes blank pages.
        */
        height: 296mm !important; 
        min-height: 296mm !important;
        overflow: hidden !important;
        position: relative !important;
      }
      
      #pdf-export-container.exporting-pdf .page-break {
        display: none !important; /* Hide the visual dashed line in PDF */
      }

      /* -------------------------------------------------------------------------- */
      /* PDF Content Styling - Light Theme                                          */
      /* -------------------------------------------------------------------------- */
      
      .pdf-content {
        color: #1e293b;
        line-height: 1.6;
        height: 100%;
      }
      
      /* Headings */
      .pdf-content h1, .pdf-content h2, .pdf-content h3, .pdf-content h4, .pdf-content h5, .pdf-content h6 {
        color: #0f172a; 
        font-weight: 700;
        margin-top: 1em; 
        margin-bottom: 0.5em;
        clear: both; 
      }
      /* Reduce top margin for headings if they are at the top of a page */
      .pdf-content > *:first-child {
        margin-top: 0 !important;
      }

      .pdf-content h1 { font-size: 2.25rem; border-bottom: 2px solid #e2e8f0; padding-bottom: 0.3em; text-align: center; }
      .pdf-content h2 { font-size: 1.75rem; }
      .pdf-content h3 { font-size: 1.5rem; }
      
      /* Text */
      .pdf-content p { margin-bottom: 0.8em; text-align: justify; }
      .pdf-content ul, .pdf-content ol { margin-bottom: 0.8em; padding-left: 1.5em; }
      .pdf-content li { margin-bottom: 0.3em; }
      
      /* Blockquotes */
      .pdf-content blockquote {
        border-left: 4px solid #cbd5e1;
        background-color: #f8fafc;
        color: #475569;
        padding: 0.8em;
        margin: 1em 0;
        font-style: italic;
      }
      
      /* Code Blocks */
      .pdf-content pre {
        background-color: #f8fafc;
        border: 1px solid #e2e8f0;
        color: #334155;
        padding: 0.8em;
        border-radius: 0.5em;
        overflow-x: auto;
        font-family: 'JetBrains Mono', monospace;
        margin: 1em 0;
        white-space: pre-wrap;
        clear: both;
      }
      
      .pdf-content code {
        background-color: #f1f5f9;
        color: #dc2626;
        padding: 0.2em 0.4em;
        border-radius: 0.25em;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.9em;
        border: 1px solid #e2e8f0;
      }
      
      .pdf-content pre code {
        background-color: transparent;
        color: inherit;
        padding: 0;
        border: none;
      }
      
      /* Tables */
      .pdf-content table {
        width: 100%;
        max-width: 100%;
        border-collapse: collapse;
        margin: 1em 0;
        table-layout: auto; 
        font-size: 0.8rem; 
        display: table;
        clear: both;
      }
      
      .pdf-content th, .pdf-content td {
        border: 1px solid #cbd5e1;
        padding: 0.4em;
        text-align: left;
        vertical-align: top;
        word-wrap: break-word;
        overflow-wrap: anywhere;
        word-break: break-word;
        hyphens: auto;
      }
      
      .pdf-content th {
        background-color: #f1f5f9;
        font-weight: 600;
        color: #0f172a;
      }
      
      /* Images */
      .pdf-content img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 1em auto;
        border-radius: 0.5em;
      }

      /* Image Alignment Classes */
      .pdf-content img.align-left { margin-left: 0; margin-right: auto; }
      .pdf-content img.align-right { margin-left: auto; margin-right: 0; }
      /* Explicit centering */
      .pdf-content img.align-center { 
        display: block; 
        margin-left: auto; 
        margin-right: auto; 
        float: none; 
      }
      .pdf-content img.align-full { width: 100%; max-width: 100%; margin-left: 0; margin-right: 0; }

      /* Floating Images */
      .pdf-content img.float-left {
        float: left;
        margin-right: 1.5em;
        margin-bottom: 1em;
        max-width: 50%;
      }
      .pdf-content img.float-right {
        float: right;
        margin-left: 1.5em;
        margin-bottom: 1em;
        max-width: 50%;
      }

      /* Grid Layouts */
      .pdf-content img.width-half { width: 48%; display: inline-block; margin: 0.5%; vertical-align: top; }
      .pdf-content img.width-third { width: 31%; display: inline-block; margin: 0.5%; vertical-align: top; }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
  </body>
</html>